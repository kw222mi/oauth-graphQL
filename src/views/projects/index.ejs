<h1>Tasks</h1>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Done</th>
      <th>Avatar</th>
      <th>Issue number</th>
      <th>Title</th>
      <th>Description</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody id="task-list">
    <% if (viewData) { %>
      <% for (const task of viewData) { %>
        <tr data-id="<%= task.issueId %>">
          <td class="text-center text-primary"><input class="form-check-input" type="checkbox" id="doneCheck" disabled
              <% if (task.done ==="closed") { %> checked <% } %> /></td>
              <td class="w-25 <% if (task.done) { %> text-muted <% } %>">
                <img src=<%= task.avatar %> crossorigin="anonymous" width="40">
                
              </td>
              <td class="w-25 <% if (task.done) { %> text-muted <% } %>">
                <%= task.issueId %>
                
              </td>
              <td class="w-25 <% if (task.done) { %> text-muted <% } %>">
                <%= task.title %>
              </td>
          <td class="w-50 <% if (task.done) { %> text-muted <% } %>">
            <%= task.description %>
          </td>
          <td class="text-nowrap">

            
<form class="row g-3" method="post" action="./tasks/<%= task.issueId %>/<%= task.done %>">
  
  <div class="col-12">
    <button type="submit" class="btn btn-primary" autofocus="autofocus"><% if (task.done ==="closed") { %> Reopen <% } else {%> Close <% } %></button>
  </div>
</form>
          </td>
        </tr>
      <% } %>
    <% } else { %>
      <tr>
        <td colspan="3" class="text-center text-danger">
          There are no tasks to display
        </td>
      </tr>
    <% } %>
  </tbody>
</table>

<%# Socket.IO: Template for the client. The same as above, sort of. %>
<template id="task-template">
  <tr>
    <td class="text-center text-primary">
      <input class="form-check-input" type="checkbox" disabled />
    </td>
    <td class="w-100"></td>
    <td class="text-nowrap">
      <a>Close</a>
      <a>Update</a>
      <a>Delete</a>
    </td>
  </tr>
</template>